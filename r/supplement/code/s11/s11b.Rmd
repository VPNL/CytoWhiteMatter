---
title: "endpoint classifier"
author: "Emily Kubota"
date: "1/11/2022"
output: html_document
---

```{r}
# load in relevant functions & data 
library("tidyverse")
theme_set(theme_classic())
source("../../../code/utils/classification_plot.R")
df <- read.csv("../../data/s11b_classification.csv")
```

```{r}
# make the plot 
df %>% 
  classification_plot()

# save to figures folder
ggsave(filename = 
           paste0("s11b.png"),
        width = 6,
         height = 3)
```

```{r}
df %>% 
  filter(classified_by %in% c("Cytoarchitecture","Category")) %>% 
  lmerTest::lmer(.,formula = Accuracy ~ classified_by * Group + (1|subject)) %>% 
  anova()
```

```{r}

# test whether we can classify above chance for cyto

cyto_kid <- 
df %>% 
  filter(classified_by == 'Cytoarchitecture',
         Group == 'Children') %>% 
  select(Accuracy) 
  
t.test(cyto_kid,mu=50)

cyto_adult <- 
df %>% 
  filter(classified_by == 'Cytoarchitecture',
         Group == 'Adults') %>% 
  select(Accuracy) 
  
t.test(cyto_adult,mu=50)


```

```{r}

# test whether we can classify above chance for cat

cat_kid <- 
df %>% 
  filter(classified_by == 'Category',
         Group == 'Children') %>% 
  select(Accuracy) 
  
t.test(cat_kid,mu=50)

cat_adult <- 
df %>% 
  filter(classified_by == 'Category',
         Group == 'Adults') %>% 
  select(Accuracy) 
  
t.test(cat_adult,mu=50)


```

